"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[7006],{28453(e,n,i){i.d(n,{R:()=>l,x:()=>o});var t=i(96540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}},74180(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"vkl/kb-layer/function/sql_where","title":"sql_where","description":"Definition","source":"@site/docs/vkl/kb-layer/function/sql_where.md","sourceDirName":"vkl/kb-layer/function","slug":"/vkl/kb-layer/function/sql_where","permalink":"/vkl/kb-layer/function/sql_where","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_label":"\u2699\ufe0f sql_where","sidebar_position":5},"sidebar":"vkl","previous":{"title":"\u2699\ufe0f sql_select","permalink":"/vkl/kb-layer/function/sql_select"},"next":{"title":"\u2699\ufe0f name","permalink":"/vkl/kb-layer/general/name"}}');var s=i(74848),r=i(28453);const l={sidebar_label:"\u2699\ufe0f sql_where",sidebar_position:5},o=void 0,a={},c=[{value:"Definition",id:"definition",level:2},{value:"Usage",id:"usage",level:2},{value:"Example",id:"example",level:2},{value:"Guidelines",id:"guidelines",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"definition",children:"Definition"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"sql_where"})," is a property used in Veezoo's configuration to specify the SQL equivalent of a ",(0,s.jsx)(n.code,{children:"function"})," when it appears in the WHERE clause of an SQL query. This property is used for ",(0,s.jsx)(n.code,{children:"CB_One2Maybe"})," functions and allows users to leverage custom filtering conditions without needing to write SQL."]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"sql_where"})," is a string that contains the SQL code to apply the filter, with placeholders (",(0,s.jsx)(n.code,{children:"$1"}),", ",(0,s.jsx)(n.code,{children:"$2"}),", ",(0,s.jsx)(n.code,{children:"$3"}),", etc.) representing the arguments that the function accepts. These placeholders correspond to the first, second, third, etc., arguments and will be replaced with the actual values when the function is called."]}),"\n",(0,s.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,s.jsxs)(n.p,{children:["Consider the ",(0,s.jsx)(n.code,{children:"Leap_Year"})," function from our ",(0,s.jsx)(n.a,{href:"/vkl/kb-layer/function",children:"examples here"}),". The ",(0,s.jsx)(n.code,{children:"sql_where"})," property is used to define the SQL operation that checks whether a date belongs to a leap year:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'function Leap_Year {\n   name: "Leap Year"\n   // Rest of function definition...\n   sql_where: "(EXTRACT(DOY FROM DATE (EXTRACT(YEAR FROM $1)::text || \'-12-31\')) = 366)"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["In this example, ",(0,s.jsx)(n.code,{children:"(EXTRACT(DOY FROM DATE (EXTRACT(YEAR FROM $1)::text || '-12-31')) = 366)"})," is the SQL code that checks if a date is in a leap year. The ",(0,s.jsx)(n.code,{children:"$1"})," is a placeholder for the first argument, which in this case would be a date. If the function is called with a date argument like ",(0,s.jsx)(n.code,{children:"birthdate"}),", this SQL code will be inserted in the WHERE clause of the SQL query, filtering for rows where the ",(0,s.jsx)(n.code,{children:"birthdate"})," is in a leap year."]}),"\n",(0,s.jsx)(n.h2,{id:"guidelines",children:"Guidelines"}),"\n",(0,s.jsxs)(n.p,{children:["When defining ",(0,s.jsx)(n.code,{children:"sql_where"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use valid SQL syntax corresponding to your database engine."}),"\n",(0,s.jsx)(n.li,{children:"Make sure to correctly map the function's arguments to the placeholders."}),"\n",(0,s.jsx)(n.li,{children:"The resulting SQL function should return a boolean (true or false), as it will be used for filtering."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Remember, ",(0,s.jsx)(n.code,{children:"sql_where"})," allows you to apply sophisticated filter conditions directly within Veezoo, enhancing the flexibility and precision of data analysis."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);