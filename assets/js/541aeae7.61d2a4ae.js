"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[3724],{28453(e,n,t){t.d(n,{R:()=>a,x:()=>r});var s=t(96540);const i={},o=s.createContext(i);function a(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:n},e.children)}},84517(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"vkl/charts/custom-chart","title":"Custom Charts","description":"Definition","source":"@site/docs/vkl/charts/custom-chart.md","sourceDirName":"vkl/charts","slug":"/vkl/charts/custom-chart","permalink":"/vkl/charts/custom-chart","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Custom Charts"},"sidebar":"vkl","previous":{"title":"Agents","permalink":"/vkl/agents/"},"next":{"title":"Ground Truths","permalink":"/vkl/ground-truths/"}}');var i=t(74848),o=t(28453);const a={title:"Custom Charts"},r=void 0,l={},c=[{value:"Definition",id:"definition",level:2},{value:"Example",id:"example",level:2},{value:"Properties",id:"properties",level:2},{value:"<code>name</code>",id:"name",level:3},{value:"<code>show_for_class</code>",id:"show_for_class",level:3},{value:"<code>geojson_join_by</code>",id:"geojson_join_by",level:3},{value:"<code>geojson</code>",id:"geojson",level:3},{value:"<code>match_pattern</code> (Optional)",id:"match_pattern-optional",level:3},{value:"Usage",id:"usage",level:2},{value:"Example Use Case",id:"example-use-case",level:3},{value:"Considerations",id:"considerations",level:2}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"definition",children:"Definition"}),"\n",(0,i.jsxs)(n.p,{children:["In Veezoo, you can define custom maps using the ",(0,i.jsx)(n.code,{children:"custom_chart"})," configuration. This allows you to create visualizations that extend beyond the default chart types provided by Veezoo. One such example is a custom map visualization using GeoJSON data."]}),"\n",(0,i.jsxs)(n.p,{children:["We plan to extend ",(0,i.jsx)(n.code,{children:"custom_chart"})," to other charts in the future that are not maps."]}),"\n",(0,i.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(n.p,{children:"Here is a realistic example of how to define a custom chart for visualizing sales performance by region:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'custom_chart Region_Map {\n    name: "Region Map"\n\n    show_for_class: kb.Region\n\n    // needs to match the entities of the class with the values for the given property\n    // in this example "US-NY" needs to be an entity of kb.Region in the KG as well\n    geojson_join_by: "region_code"\n    \n    geojson: """\n        {\n            "type": "FeatureCollection",\n            "features": [\n                {\n                    "type": "Feature",\n                    "properties": {\n                        "region_code": "US-NY"\n                    },\n                    "geometry": {\n                        "type": "Polygon",\n                        "coordinates": [[[...]]]\n                    }\n                }\n            ]\n        }\n    """\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(n.h3,{id:"name",children:(0,i.jsx)(n.code,{children:"name"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The name of the custom chart that will be displayed in the UI."}),"\n",(0,i.jsxs)(n.li,{children:["Example: ",(0,i.jsx)(n.code,{children:'"My Custom Map"'})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"show_for_class",children:(0,i.jsx)(n.code,{children:"show_for_class"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Specifies the class for which the custom chart should be displayed."}),"\n",(0,i.jsx)(n.li,{children:"This ensures that the chart is only available when querying data related to the specified class."}),"\n",(0,i.jsxs)(n.li,{children:["Example: ",(0,i.jsx)(n.code,{children:"kb.Region"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"geojson_join_by",children:(0,i.jsx)(n.code,{children:"geojson_join_by"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Defines the key in the GeoJSON data that corresponds to values in the ",(0,i.jsx)(n.code,{children:"show_for_class"})," class."]}),"\n",(0,i.jsx)(n.li,{children:"This allows the system to match entities in your dataset to regions in the GeoJSON data."}),"\n",(0,i.jsxs)(n.li,{children:["Example: ",(0,i.jsx)(n.code,{children:'"region_code"'})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"geojson",children:(0,i.jsx)(n.code,{children:"geojson"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Contains the GeoJSON data that defines the shapes and regions for the custom map."}),"\n",(0,i.jsxs)(n.li,{children:["The GeoJSON format should be properly structured to include features with corresponding properties that align with the ",(0,i.jsx)(n.code,{children:"geojson_join_by"})," key."]}),"\n",(0,i.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'geojson: """\n{\n    "type": "FeatureCollection",\n    "features": [\n        {\n            "type": "Feature",\n            "properties": {\n                "region_code": "123"\n            },\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [[[...]]]\n            }\n        }\n    ]\n}\n"""\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"match_pattern-optional",children:[(0,i.jsx)(n.code,{children:"match_pattern"})," (Optional)"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"match_pattern"})," specifies the VQL pattern that needs to be matched for the custom chart to be considered."]}),"\n",(0,i.jsx)(n.li,{children:"This is useful when you want to display a custom chart only when certain conditions are met."}),"\n",(0,i.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'custom_chart Map_of_Rio_de_Janeiro {\n    ... // other attributes of custom_chart\n\n    // only show this for answers involving cities\n    show_for_class: kb.City\n\n    // make sure that we have a filter for Rio de Janeiro\n    match_pattern: """\n        var order: kb.Orders\n        order.located_in = kb.State.Rio_de_Janeiro\n    """\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(n.p,{children:["Once defined, the custom chart will be available when querying the specified ",(0,i.jsx)(n.code,{children:"show_for_class"})," in Veezoo. Users can visualize data mapped to the geographic regions defined in the ",(0,i.jsx)(n.code,{children:"geojson"})," property."]}),"\n",(0,i.jsx)(n.h3,{id:"example-use-case",children:"Example Use Case"}),"\n",(0,i.jsxs)(n.p,{children:["If you have sales data categorized by region, you can define a custom map that highlights regions with different colors based on sales performance. By setting ",(0,i.jsx)(n.code,{children:"geojson_join_by"})," to the appropriate region identifier, the map will dynamically adjust based on the queried data."]}),"\n",(0,i.jsxs)(n.p,{children:["Additionally, you can use ",(0,i.jsx)(n.code,{children:"match_pattern"})," to ensure that the chart is only displayed when specific filters are applied, making the visualization context-aware."]}),"\n",(0,i.jsx)(n.h2,{id:"considerations",children:"Considerations"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure that the GeoJSON data is correctly formatted to prevent rendering issues."}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"geojson_join_by"})," key must match exactly with values in your dataset."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"match_pattern"})," should be carefully crafted to align with the intended VQL logic."]}),"\n",(0,i.jsx)(n.li,{children:"Custom charts provide a way to enhance visualization options within Veezoo while maintaining a seamless user experience."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);