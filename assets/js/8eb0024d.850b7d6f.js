"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[6654],{28453(e,n,i){i.d(n,{R:()=>l,x:()=>o});var t=i(96540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}},89640(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"vkl/kb-layer/relationship/relationship","title":"relationship","description":"Definition","source":"@site/docs/vkl/kb-layer/relationship/relationship.md","sourceDirName":"vkl/kb-layer/relationship","slug":"/vkl/kb-layer/relationship/","permalink":"/vkl/kb-layer/relationship/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"relationship"},"sidebar":"vkl","previous":{"title":"Entity","permalink":"/vkl/kb-layer/entity/"},"next":{"title":"\u2699\ufe0f to","permalink":"/vkl/kb-layer/relationship/to"}}');var s=i(74848),r=i(28453);const l={id:"relationship"},o=void 0,a={},d=[{value:"Definition",id:"definition",level:2},{value:"Usage",id:"usage",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"definition",children:"Definition"}),"\n",(0,s.jsx)(n.p,{children:"A relationship in VKL describes how classes relate to each other."}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Till_Haug"})," ",(0,s.jsx)(n.em,{children:"works at"})," ",(0,s.jsx)(n.code,{children:"Veezoo_AG"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"JP_Monteiro"})," ",(0,s.jsx)(n.em,{children:"is from the segment"})," ",(0,s.jsx)(n.code,{children:"Consumer"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Rio_de_Janeiro"})," ",(0,s.jsx)(n.em,{children:"is located in"})," ",(0,s.jsx)(n.code,{children:"Brazil"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In other words, we have the following relationships:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"works_at"})," is a relationship that goes from ",(0,s.jsx)(n.code,{children:"Employee"})," to ",(0,s.jsx)(n.code,{children:"Company"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"from_segment"})," is a relationship that goes from ",(0,s.jsx)(n.code,{children:"Customer"})," to the class ",(0,s.jsx)(n.code,{children:"Segment"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"located_in"})," is a relationship that goes from ",(0,s.jsx)(n.code,{children:"City"})," to the class ",(0,s.jsx)(n.code,{children:"Country"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import: [\n    db.postgres.movie_db.public.CUSTOMER\n]\n\nkb {\n\n    class Customer {\n    \t...\n\n        relationship lives_in {\n            \n            /** How to display this relationship to the user in an answer\'s filters,\n             * e.g. "Customer lives in Brazil" \n             * Default: "with" */\n            display_name.en: "lives in"\n            \n            /** Specifies the cardinality of the relationship \n             *    one of: KB_One2One, KB_Many2One, KB_Many2Many, KB_One2Many).\n             * Default: KB_Many2One */\n            tag: KB_Many2One\n\n            /** lives_in is a relationship that goes from Customer to Country. */\n            to: kb.Country\n\n            /** An optional join path in the case of intermediate tables.\n             *  Default: not set */\n            join: [ ... ]\n\n            /** The sql expression representing this relationship. */\n            sql: "${CUSTOMER.country_id}"\n        }\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Optional/Mandatory"}),(0,s.jsx)(n.th,{children:"Summary"}),(0,s.jsx)(n.th,{children:"Default"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/vkl/kb-layer/relationship/to",children:"to"})}),(0,s.jsx)(n.td,{children:"Mandatory"}),(0,s.jsxs)(n.td,{children:["A relationship is always between the outer class where it is defined and another class, specified in the property ",(0,s.jsx)(n.code,{children:"to"}),"."]}),(0,s.jsx)(n.td,{children:"No default"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/vkl/kb-layer/relationship/sql",children:"sql"})}),(0,s.jsx)(n.td,{children:"Mandatory"}),(0,s.jsx)(n.td,{children:"The sql expression representing this relationship, usually a foreign key."}),(0,s.jsx)(n.td,{children:"No default"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/vkl/kb-layer/general/display_name",children:"display_name"})}),(0,s.jsx)(n.td,{children:"Optional"}),(0,s.jsx)(n.td,{children:"How to display this relationship to the user in an answer's filters, e.g. \"Customer lives in Brazil"}),(0,s.jsx)(n.td,{children:'"with" in the respective language'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:".",children:"tag: KB_Many2One/etc"})}),(0,s.jsx)(n.td,{children:"Optional"}),(0,s.jsx)(n.td,{children:"Specifies the cardinality of the relationship, one of: KB_One2One, KB_Many2One, KB_Many2Many, KB_One2Many)."}),(0,s.jsx)(n.td,{children:"KB_Many2One"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/vkl/kb-layer/general/join",children:"join"})}),(0,s.jsx)(n.td,{children:"Optional"}),(0,s.jsx)(n.td,{children:"An optional join path in the case of intermediate tables."}),(0,s.jsx)(n.td,{children:"Not set"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/vkl/kb-layer/relationship/to_name",children:"to_name"})}),(0,s.jsx)(n.td,{children:"Optional"}),(0,s.jsxs)(n.td,{children:["A name for the class defined in ",(0,s.jsx)(n.code,{children:"to"}),", e.g. to distinguish Origin Airport and Departing Airport in answers."]}),(0,s.jsx)(n.td,{children:"No default"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/vkl/kb-layer/relationship/to_name",children:"to_synonym"})}),(0,s.jsx)(n.td,{children:"Optional"}),(0,s.jsxs)(n.td,{children:["A synonym for the class defined in ",(0,s.jsx)(n.code,{children:"to"}),", e.g. Origin Airport can have a synonym 'Departing Airport'."]}),(0,s.jsx)(n.td,{children:"No default"})]})]})]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);