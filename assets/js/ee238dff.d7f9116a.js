"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[9004],{28453(e,n,t){t.d(n,{R:()=>r,x:()=>d});var a=t(96540);const i={},s=a.createContext(i);function r(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:n},e.children)}},71390(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"vkl/kb-layer/attribute/types/date","title":"date","description":"Definition","source":"@site/docs/vkl/kb-layer/attribute/types/date.md","sourceDirName":"vkl/kb-layer/attribute/types","slug":"/vkl/kb-layer/attribute/types/date","permalink":"/vkl/kb-layer/attribute/types/date","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"date","sidebar_position":1},"sidebar":"vkl","previous":{"title":"Attributes","permalink":"/vkl/kb-layer/attribute/"},"next":{"title":"number","permalink":"/vkl/kb-layer/attribute/types/number"}}');var i=t(74848),s=t(28453);const r={title:"date",sidebar_position:1},d=void 0,l={},o=[{value:"Definition",id:"definition",level:2},{value:"Usage",id:"usage",level:2},{value:"Better Explanation",id:"better-explanation",level:3},{value:"event_date",id:"event_date",level:4},{value:"phrase_name",id:"phrase_name",level:4}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"definition",children:"Definition"}),"\n",(0,i.jsx)(n.p,{children:"Date is used whenever you have a column or SQL expression that returns a partial (e.g. Year) or fully qualfied date (e.g. 2020-01-06) or datetime."}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.code,{children:"date"}),", Veezoo assumes that the ",(0,i.jsx)(n.code,{children:"sql"})," is a SQL date/datetime expression. This means that in case it is not, you should change ",(0,i.jsx)(n.code,{children:"sql"})," to be a casting operation in your SQL dialect, e.g. ",(0,i.jsx)(n.code,{children:"sql: \"TO_DATE(${ORDERS.date_str}, 'YYYYMMDD')\""})," or directly in your database."]}),"\n",(0,i.jsxs)(n.p,{children:["It is also required to specify the granularity by setting ",(0,i.jsx)(n.code,{children:"datetime_format"}),". This is usually inferred by Veezoo when importing your schema. There exist the following options:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"YearFormat"})," (e.g. 2020)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DayFormat"})," (e.g. 2020-10-01)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TimeFormat"})," (e.g. 2020-10-01 13:00:00)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DayOfWeekFormat"})," (e.g. Friday)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MonthDayFormat"})," (e.g. 10-24, calendar day with unspecified year, such as for a birthday)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MonthFormat"})," (e.g. 1969-08)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"YearQuarterFormat"})," (e.g. 2025-Q2)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"YearWeekFormat"})," (e.g. 2006-W18)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["File: ",(0,i.jsx)(n.em,{children:"hitchhiker/knowledge-base/classes/Order.vkl"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'import: [\n    db.postgres.movie_db.public.ORDERS\n]\n\nkb {\n\n    class Order {\n\n        ...\n\n        date Order_Date {\n            name.en: "Order Date"\n\n            sql: "${ORDERS.order_date}"\n\n            datetime_format: DayFormat\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"better-explanation",children:"Better Explanation"}),"\n",(0,i.jsx)(n.p,{children:'Veezoo will explain dates by default as for example "Signup Date of User in 2020", which can be clunky at times.'}),"\n",(0,i.jsx)(n.h4,{id:"event_date",children:"event_date"}),"\n",(0,i.jsxs)(n.p,{children:["Often, the specific date is not required. In these cases, use ",(0,i.jsx)(n.code,{children:"event_date: Date"}),', to get for example "Order in 2020" instead of "Order Date of Order in 2020". This is most appropriate for classes that model an event, like an order.']}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:"kb {\n\n    class Order {\n\n        event_date: Order_Date\n\n        date Order_Date {\n            ...\n        }\n    }\n}\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["This has the additional effect of setting the ",(0,i.jsx)(n.a,{href:"/vkl/kb-layer/class/default_date",children:"default_date"}),"."]})}),"\n",(0,i.jsx)(n.h4,{id:"phrase_name",children:"phrase_name"}),"\n",(0,i.jsxs)(n.p,{children:["In other cases, a date might relate to an event different from a class, for example the signup date of a user. Then it can be appropriate to set e.g. ",(0,i.jsx)(n.code,{children:'phrase_name: "signed up"'}),' on the date, which will make Veezoo explain date filters as "User signed up in 2020".']}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'kb {\n\n    class User {\n        ...\n\n        date Signup_Date {\n            phrase_name: "signed up"\n        }\n    }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.a,{href:"/vkl/kb-layer/attribute/is_snapshot_date",children:"snapshot dates"}),', it can also be appropriate to use an adjective here, e.g. "active" to get "Subscription active by the end of 2020".']})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);