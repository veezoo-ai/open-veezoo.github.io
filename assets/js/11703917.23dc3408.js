"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[4004],{12272(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"vkl/kb-layer/general/html","title":"html","description":"Overview","source":"@site/docs/vkl/kb-layer/general/html.md","sourceDirName":"vkl/kb-layer/general","slug":"/vkl/kb-layer/general/html","permalink":"/vkl/kb-layer/general/html","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_label":"\u2699\ufe0f html","sidebar_position":6},"sidebar":"vkl","previous":{"title":"\u2699\ufe0f synced_description","permalink":"/vkl/kb-layer/general/synced_description"},"next":{"title":"virtual_table","permalink":"/vkl/db-layer/virtual-table"}}');var a=i(74848),s=i(28453);const r={sidebar_label:"\u2699\ufe0f html",sidebar_position:6},d=void 0,t={},o=[{value:"Overview",id:"overview",level:2},{value:"Available Constants",id:"available-constants",level:3},{value:"Available Filters",id:"available-filters",level:3},{value:"<code>format_number</code>",id:"format_number",level:4},{value:"<code>format_number_compact</code>",id:"format_number_compact",level:4},{value:"<code>format_date</code>",id:"format_date",level:4},{value:"Examples",id:"examples",level:2},{value:"Formatting a Number with Thousand Separators",id:"formatting-a-number-with-thousand-separators",level:3},{value:"Displaying Conditional Icons for Values",id:"displaying-conditional-icons-for-values",level:3},{value:"Applying a Compact Number Format",id:"applying-a-compact-number-format",level:3},{value:"Displaying the Weekday and Date",id:"displaying-the-weekday-and-date",level:3},{value:"Adding Custom HTML for a URL Field",id:"adding-custom-html-for-a-url-field",level:3},{value:"Showing a Conditional Badge for High Values",id:"showing-a-conditional-badge-for-high-values",level:3},{value:"Usage in VKL",id:"usage-in-vkl",level:2},{value:"Example: Adding HTML to a Measure",id:"example-adding-html-to-a-measure",level:3},{value:"Considerations",id:"considerations",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsxs)(n.p,{children:["Veezoo supports the ",(0,a.jsx)(n.code,{children:"html"})," property for various knowledge graph concepts, including:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Classes"}),"\n",(0,a.jsx)(n.li,{children:"Numbers"}),"\n",(0,a.jsx)(n.li,{children:"Dates"}),"\n",(0,a.jsx)(n.li,{children:"Booleans"}),"\n",(0,a.jsx)(n.li,{children:"Strings"}),"\n",(0,a.jsx)(n.li,{children:"Measures"}),"\n",(0,a.jsx)(n.li,{children:"Functions"}),"\n",(0,a.jsx)(n.li,{children:"Units"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"html"})," property allows embedding custom HTML using the ",(0,a.jsx)(n.a,{href:"https://shopify.github.io/liquid/",children:"Liquid templating language"}),", making it easy to format values dynamically."]}),"\n",(0,a.jsx)(n.h3,{id:"available-constants",children:"Available Constants"}),"\n",(0,a.jsxs)(n.p,{children:["Within the ",(0,a.jsx)(n.code,{children:"html"})," property, you can use the following constants:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"value"}),": The raw value."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"formatted_value"}),": The value formatted using ",(0,a.jsx)(n.code,{children:"format_number"}),", ensuring proper number formatting."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"min_value"})," / ",(0,a.jsx)(n.code,{children:"max_value"}),": (For numbers only) The minimum and maximum values in the corresponding column."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"available-filters",children:"Available Filters"}),"\n",(0,a.jsx)(n.p,{children:"The following filters are available in Liquid expressions and have been implemented to provide localization-aware formatting:"}),"\n",(0,a.jsx)(n.h4,{id:"format_number",children:(0,a.jsx)(n.code,{children:"format_number"})}),"\n",(0,a.jsx)(n.p,{children:"Formats a number using the user's number format preferences. You can optionally override the locale and other formatting options using named arguments:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:"{{ value | format_number: locale: 'de-DE', style: 'currency', currency: 'EUR' }}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Like ",(0,a.jsx)(n.code,{children:"format_number_compact"}),", this filter supports any options defined in the ",(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat",children:(0,a.jsx)(n.code,{children:"Intl.NumberFormat"})})," constructor. These include:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"style"}),": ",(0,a.jsx)(n.code,{children:"'decimal'"}),", ",(0,a.jsx)(n.code,{children:"'currency'"}),", ",(0,a.jsx)(n.code,{children:"'percent'"}),", ",(0,a.jsx)(n.code,{children:"'unit'"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"currency"}),": e.g., ",(0,a.jsx)(n.code,{children:"'USD'"}),", ",(0,a.jsx)(n.code,{children:"'EUR'"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"minimumFractionDigits"}),", ",(0,a.jsx)(n.code,{children:"maximumFractionDigits"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"notation"}),": ",(0,a.jsx)(n.code,{children:"'standard'"}),", ",(0,a.jsx)(n.code,{children:"'scientific'"}),", ",(0,a.jsx)(n.code,{children:"'engineering'"}),", etc."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:"{{ value | format_number: style: 'unit', unit: 'kilobyte', unitDisplay: 'narrow' }}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["This will display a number like ",(0,a.jsx)(n.code,{children:"1,024 KB"}),"."]}),"\n",(0,a.jsx)(n.h4,{id:"format_number_compact",children:(0,a.jsx)(n.code,{children:"format_number_compact"})}),"\n",(0,a.jsxs)(n.p,{children:["Formats a number using compact notation (e.g., ",(0,a.jsx)(n.code,{children:"K"}),", ",(0,a.jsx)(n.code,{children:"M"}),", etc.). Defaults to ",(0,a.jsx)(n.code,{children:"'en-US'"})," locale unless overridden:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:"{{ value | format_number_compact }}\n{{ value | format_number_compact: locale: 'de-DE' }}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["You can also pass additional options supported by the ",(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat",children:(0,a.jsx)(n.code,{children:"Intl.NumberFormat"})})," constructor, such as:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:"{{ value | format_number_compact: locale: 'en-US', maximumFractionDigits: 1 }}\n"})}),"\n",(0,a.jsx)(n.p,{children:"This gives you control over rounding, currency display, unit style, and other formatting aspects."}),"\n",(0,a.jsx)(n.h4,{id:"format_date",children:(0,a.jsx)(n.code,{children:"format_date"})}),"\n",(0,a.jsxs)(n.p,{children:["Formats a date using ",(0,a.jsx)(n.a,{href:"https://date-fns.org/",children:(0,a.jsx)(n.code,{children:"date-fns"})})," and supports format strings and localization:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:"{{ value | format_date: 'EEEE, MMMM d, yyyy', locale: 'fr' }}\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["The first argument is the date format string, following the ",(0,a.jsx)(n.a,{href:"https://date-fns.org/v2.30.0/docs/format",children:(0,a.jsx)(n.code,{children:"date-fns/format"})})," syntax."]}),"\n",(0,a.jsxs)(n.li,{children:["You can pass a ",(0,a.jsx)(n.code,{children:"locale"})," option to customize formatting to different languages. The locale uses the user's language by default but can be overridden."]}),"\n",(0,a.jsxs)(n.li,{children:["Other options such as ",(0,a.jsx)(n.code,{children:"weekStartsOn"})," or ",(0,a.jsx)(n.code,{children:"firstWeekContainsDate"})," can be passed too."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:"{{ value | format_date: 'yyyy-MM-dd' }} \u2192 2024-06-15\n{{ value | format_date: 'PPPP', locale: 'it' }} \u2192 sabato 15 giugno 2024\n{{ value | format_date: 'MMM do, yyyy' }} \u2192 Jun 15th, 2024\n"})}),"\n",(0,a.jsxs)(n.p,{children:["See the full list of tokens at the ",(0,a.jsx)(n.a,{href:"https://date-fns.org/v2.30.0/docs/format",children:"date-fns documentation"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsx)(n.h3,{id:"formatting-a-number-with-thousand-separators",children:"Formatting a Number with Thousand Separators"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:"{{ formatted_value }}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["If ",(0,a.jsx)(n.code,{children:"value"})," is ",(0,a.jsx)(n.code,{children:"1234567.89"}),", this will display as ",(0,a.jsx)(n.code,{children:"1,234,567.89"})," based on user locale settings."]}),"\n",(0,a.jsx)(n.h3,{id:"displaying-conditional-icons-for-values",children:"Displaying Conditional Icons for Values"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:"{% if value > 1000000 %}\n    <span>\ud83d\udd25 {{ formatted_value }}</span>\n{% else %}\n    <span>\ud83d\udcb0 {{ formatted_value }}</span>\n{% endif %}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["If ",(0,a.jsx)(n.code,{children:"value"})," is ",(0,a.jsx)(n.code,{children:"1500000"}),", this will display: ",(0,a.jsx)(n.strong,{children:"\ud83d\udd25 1,500,000"}),".\nIf ",(0,a.jsx)(n.code,{children:"value"})," is ",(0,a.jsx)(n.code,{children:"50000"}),", this will display: ",(0,a.jsx)(n.strong,{children:"\ud83d\udcb0 50,000"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"applying-a-compact-number-format",children:"Applying a Compact Number Format"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:"{{ value | format_number_compact }}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["If ",(0,a.jsx)(n.code,{children:"value"})," is ",(0,a.jsx)(n.code,{children:"1500000"}),", this will display as ",(0,a.jsx)(n.code,{children:"1.5M"})," using the default ",(0,a.jsx)(n.code,{children:"en-US"})," locale."]}),"\n",(0,a.jsx)(n.h3,{id:"displaying-the-weekday-and-date",children:"Displaying the Weekday and Date"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:"{{ value | format_date: 'EEEE, MMMM d, yyyy' }}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["If ",(0,a.jsx)(n.code,{children:"value"})," is ",(0,a.jsx)(n.code,{children:"2024-06-15"}),", this will display ",(0,a.jsx)(n.strong,{children:"Saturday, June 15, 2024"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"adding-custom-html-for-a-url-field",children:"Adding Custom HTML for a URL Field"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:'<a href="{{ value }}" target="_blank">Open Link</a>\n'})}),"\n",(0,a.jsxs)(n.p,{children:["If ",(0,a.jsx)(n.code,{children:"value"})," is ",(0,a.jsx)(n.code,{children:"https://example.com"}),", this will create a clickable hyperlink."]}),"\n",(0,a.jsx)(n.h3,{id:"showing-a-conditional-badge-for-high-values",children:"Showing a Conditional Badge for High Values"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-liquid",children:'{% if value > 1000000 %}\n    <span style="color: green; font-weight: bold;">High</span>\n{% else %}\n    <span style="color: red;">Low</span>\n{% endif %}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["If ",(0,a.jsx)(n.code,{children:"value"})," is ",(0,a.jsx)(n.code,{children:"1500000"}),", this will display: ",(0,a.jsx)(n.strong,{children:"High"})," (in green and bold)."]}),"\n",(0,a.jsx)(n.h2,{id:"usage-in-vkl",children:"Usage in VKL"}),"\n",(0,a.jsxs)(n.p,{children:["To define an ",(0,a.jsx)(n.code,{children:"html"})," property in VKL, include it within the class, measure, or attribute definition."]}),"\n",(0,a.jsx)(n.h3,{id:"example-adding-html-to-a-measure",children:"Example: Adding HTML to a Measure"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'kb {\n    class Sales {\n        measure Revenue {\n            name.en: "Revenue"\n            return: number\n            definition: "sum(this.Sales_Amount)"\n            \n            html: "<b>{{ formatted_value }}</b>"\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"When displayed, this measure will appear bold and formatted appropriately."}),"\n",(0,a.jsx)(n.h2,{id:"considerations",children:"Considerations"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ensure all HTML is properly sanitized to prevent security issues."}),"\n",(0,a.jsxs)(n.li,{children:["Use ",(0,a.jsx)(n.code,{children:"format_number"}),", ",(0,a.jsx)(n.code,{children:"format_number_compact"}),", and ",(0,a.jsx)(n.code,{children:"format_date"})," for proper localization."]}),"\n",(0,a.jsxs)(n.li,{children:["The ",(0,a.jsx)(n.code,{children:"html"})," property is optional, and if not defined, the default formatted value is used."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["By using ",(0,a.jsx)(n.code,{children:"html"}),", you can enhance the readability and presentation of values within Veezoo while maintaining flexibility in formatting and customization."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453(e,n,i){i.d(n,{R:()=>r,x:()=>d});var l=i(96540);const a={},s=l.createContext(a);function r(e){const n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);