"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[4665],{4010(e,n,t){t.d(n,{A:()=>i});const i="data:image/png;base64,dmVyc2lvbiBodHRwczovL2dpdC1sZnMuZ2l0aHViLmNvbS9zcGVjL3YxCm9pZCBzaGEyNTY6NDg3ZjBiZjIyNGM5OTYwOGU2OWVhM2YyNmJkNTMzZjZiMjM1OGM2NTg5NGI2OGY2ODhlNmY3YzM5NWE5MzI1MwpzaXplIDIwMTgxCg=="},11977(e,n,t){t.d(n,{A:()=>i});const i="data:image/png;base64,dmVyc2lvbiBodHRwczovL2dpdC1sZnMuZ2l0aHViLmNvbS9zcGVjL3YxCm9pZCBzaGEyNTY6N2NmZmIxNTcwMmZjN2E4MzYyY2Y4ZjQ3Mzg3ZTY3ODNhZDQ0MDQ2YjAyOTA2NDgxZDJhMTkxYmY4ODczZjllNgpzaXplIDQzOTE0Cg=="},28453(e,n,t){t.d(n,{R:()=>a,x:()=>c});var i=t(96540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}},78343(e,n,t){t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"veezoo/getting-started/database-connections/connect-to-snowflake","title":"Connecting to Snowflake","description":"How to find your Snowflake account URL, configure key-pair authentication, and troubleshoot common connection issues.","source":"@site/docs/veezoo/getting-started/database-connections/connect-to-snowflake.md","sourceDirName":"veezoo/getting-started/database-connections","slug":"/veezoo/getting-started/database-connections/snowflake","permalink":"/veezoo/getting-started/database-connections/snowflake","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Connecting to Snowflake","slug":"snowflake","description":"How to find your Snowflake account URL, configure key-pair authentication, and troubleshoot common connection issues."},"sidebar":"veezoo","previous":{"title":"Connecting to Amazon Redshift","permalink":"/veezoo/getting-started/database-connections/amazon-redshift"},"next":{"title":"Ask your First Question","permalink":"/veezoo/getting-started/ask-first-question"}}');var o=t(74848),s=t(28453);const a={title:"Connecting to Snowflake",slug:"snowflake",description:"How to find your Snowflake account URL, configure key-pair authentication, and troubleshoot common connection issues."},c=void 0,r={},l=[{value:"Finding the account URL",id:"finding-the-account-url",level:2},{value:"Find your account URL in Classic Console",id:"find-your-account-url-in-classic-console",level:3},{value:"Find your account URL in Snowsight",id:"find-your-account-url-in-snowsight",level:3},{value:"Configuring key-pair authentication",id:"configuring-key-pair-authentication",level:2},{value:"Troubleshooting key-pair authentication",id:"troubleshooting-key-pair-authentication",level:2},{value:"1. Verify the public key is registered on the Snowflake user",id:"1-verify-the-public-key-is-registered-on-the-snowflake-user",level:3},{value:"2. Ensure the authentication policy allows key-pair authentication",id:"2-ensure-the-authentication-policy-allows-key-pair-authentication",level:3},{value:"3. Test key-pair authentication from the command line",id:"3-test-key-pair-authentication-from-the-command-line",level:3},{value:"4. Common issues checklist",id:"4-common-issues-checklist",level:3}];function u(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Connect Veezoo to Snowflake by locating your account URL, configuring key-pair authentication, and using the troubleshooting steps below for common issues."}),"\n",(0,o.jsx)(n.h2,{id:"finding-the-account-url",children:"Finding the account URL"}),"\n",(0,o.jsx)(n.h3,{id:"find-your-account-url-in-classic-console",children:"Find your account URL in Classic Console"}),"\n",(0,o.jsx)(n.p,{children:"You can find your account URL in the URL of your browser."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Find host name in Classic Console",src:t(4010).A+""})}),"\n",(0,o.jsx)(n.h3,{id:"find-your-account-url-in-snowsight",children:"Find your account URL in Snowsight"}),"\n",(0,o.jsx)(n.p,{children:"You can find your account URL in the bottom left."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Find host name in Snowsight",src:t(11977).A+""})}),"\n",(0,o.jsx)(n.h2,{id:"configuring-key-pair-authentication",children:"Configuring key-pair authentication"}),"\n",(0,o.jsxs)(n.p,{children:["The supported way to authenticate with Snowflake is using a key-pair.\nGenerate a key-pair following ",(0,o.jsx)(n.a,{href:"https://docs.snowflake.com/en/user-guide/key-pair-auth#configuring-key-pair-authentication",children:"the Snowflake documentation"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Once the keys are created and the public key is added to the database user, paste the raw text of the\nprivate key into the ",(0,o.jsx)(n.code,{children:"Private Key"})," field in the connection settings. If the key is encrypted\nusing a passphrase, enter the passphrase in the ",(0,o.jsx)(n.code,{children:"Passphrase"})," field."]}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting-key-pair-authentication",children:"Troubleshooting key-pair authentication"}),"\n",(0,o.jsx)(n.p,{children:"If you are having trouble connecting to Snowflake using key-pair authentication, follow these steps to verify your configuration is correct."}),"\n",(0,o.jsx)(n.h3,{id:"1-verify-the-public-key-is-registered-on-the-snowflake-user",children:"1. Verify the public key is registered on the Snowflake user"}),"\n",(0,o.jsx)(n.p,{children:"The public key must be registered on the Snowflake user that Veezoo uses to connect. Run the following command in Snowflake to set the public key:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"ALTER USER <username> SET RSA_PUBLIC_KEY='MIIBIjANBgkqh...';\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Replace ",(0,o.jsx)(n.code,{children:"<username>"})," with your Snowflake username and paste your public key content (without the ",(0,o.jsx)(n.code,{children:"-----BEGIN PUBLIC KEY-----"})," and ",(0,o.jsx)(n.code,{children:"-----END PUBLIC KEY-----"})," headers)."]}),"\n",(0,o.jsx)(n.p,{children:"To verify the key is correctly assigned, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"DESC USER <username>;\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Look for the ",(0,o.jsx)(n.code,{children:"RSA_PUBLIC_KEY_FP"})," field in the output. If it shows a value (a fingerprint starting with ",(0,o.jsx)(n.code,{children:"SHA256:"}),"), the public key is registered. If it's empty, the key has not been set."]}),"\n",(0,o.jsx)(n.h3,{id:"2-ensure-the-authentication-policy-allows-key-pair-authentication",children:"2. Ensure the authentication policy allows key-pair authentication"}),"\n",(0,o.jsx)(n.p,{children:"Snowflake authentication policies can restrict which authentication methods are allowed. If your organization uses authentication policies, ensure that key-pair authentication is permitted for the user."}),"\n",(0,o.jsx)(n.p,{children:"To check if an authentication policy is assigned to the user:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"SHOW AUTHENTICATION POLICIES ON USER <username>;\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If a policy is assigned, verify it allows ",(0,o.jsx)(n.code,{children:"RSA_KEYPAIR"})," as an authentication method. You can view the policy details with:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"DESCRIBE AUTHENTICATION POLICY <policy_name>;\n"})}),"\n",(0,o.jsxs)(n.p,{children:["To allow key-pair authentication, the policy must include ",(0,o.jsx)(n.code,{children:"RSA_KEYPAIR"})," in its allowed authentication methods. Contact your Snowflake administrator if you need the policy updated."]}),"\n",(0,o.jsx)(n.h3,{id:"3-test-key-pair-authentication-from-the-command-line",children:"3. Test key-pair authentication from the command line"}),"\n",(0,o.jsx)(n.p,{children:"You can verify that key-pair authentication works outside Veezoo using SnowSQL (Snowflake's CLI tool):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"snowsql -a <account> -u <username> --private-key-path <path/to/private_key.p8>\n"})}),"\n",(0,o.jsx)(n.p,{children:"If this command connects successfully, your key-pair configuration is correct on the Snowflake side. If it fails, review the error message for clues about what might be misconfigured."}),"\n",(0,o.jsx)(n.h3,{id:"4-common-issues-checklist",children:"4. Common issues checklist"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Key format"}),": Ensure you are using the correct key format. Veezoo expects the private key in PEM format (the raw text including ",(0,o.jsx)(n.code,{children:"-----BEGIN PRIVATE KEY-----"})," and ",(0,o.jsx)(n.code,{children:"-----END PRIVATE KEY-----"})," or the encrypted variant)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Key algorithm"}),": Snowflake supports RSA keys. Ensure your key was generated using RSA (not EC or other algorithms)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Key size"}),": Snowflake requires a minimum 2048-bit RSA key."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"User status"}),": Verify the Snowflake user is not locked or disabled."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Passphrase"}),": If your private key is encrypted, make sure you entered the correct passphrase in the connection settings."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}}}]);